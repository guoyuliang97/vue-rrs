webpackJsonp([123],{"2tHX":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Xxa5"),a=i.n(s),o=i("exGp"),n=i.n(o),l=i("/nBy"),u=i("7+uW"),h=i("sbrb"),r=i.n(h);u.default.use(r.a);l.a;u.default.use(r.a);var c={name:"accommodation",data:function(){return{houseNot:"",radio:"0",api:this.GLOBAL.baseURL,upData:{token:localStorage.getItem("token")},dialogImageUrl:"",dialogVisible:!1,house:"",houseNum:"",perNum:"",describe:"",price:"",imageList:[],imageIdList:[],isHouse:!1,houseList:[],sendList:[],normal:[],currency:[{value:0,label:"人民币-￥"},{value:1,label:"美元-$"},{value:2,label:"日元-J.￥ "}],houseName:"",XGHouse:!1,remakeIndex:"",houseID:"",backHouse:"",backHOuseId:[],saveHouse:[],saveHouseId:[],houseIndex:"",complete:"",houseImgList:[],false:!1,sendImgList:[],fileAllList:[],image:[],upLoadIndex:1,uploadList:[],isLoading:!1,param:"",index:0,active_id:""}},components:{Loading:l.a},watch:{radio:function(){"0"==this.radio&&(this.isHouse=!1,this.closeHouse())},houseNot:function(){"0"==this.houseNot&&(this.isHouse=!1,this.closeHouse())}},methods:{seletI:function(e){var t=this;return n()(a.a.mark(function i(){return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.isLoading=!0,i.next=3,t.xunhuan(e);case 3:case"end":return i.stop()}},i,t)}))()},xunhuan:function(e){var t=this;return n()(a.a.mark(function i(){var s;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=new FormData,!e.target.files.length){i.next=10;break}if(!(e.target.files.length>10)){i.next=9;break}return t.$message({type:"info",message:"最多一次上传10张!"}),t.isLoading=!1,"0"===t.houseNot?t.$refs.file.value="":t.$refs.fileA.value="",i.abrupt("return",!1);case 9:t.panduan(e.target.files,s);case 10:case"end":return i.stop()}},i,t)}))()},panduan:function(e,t){var i=null,s=this;if(s.index==e.length)return s.index=0,s.param=t,void s.upload();var a=e[this.index];if(!("image/jpeg"===a.type||"image/jpg"===a.type||"image/png"===a.type))return alert("请上传图片格式IPEG/PNG/JPG"),s.isLoading=!1,!1;r.a.getData(a,function(){r.a.getAllTags(this),i=r.a.getTag(this,"Orientation")});var o=new FileReader;o.onload=function(a){var o=new Image;o.src=a.target.result,o.onload=function(){var a=this.naturalWidth,o=this.naturalHeight,n=document.createElement("canvas"),l=n.getContext("2d");n.width=a,n.height=o,l.drawImage(this,0,0,a,o);var u=null;if(""!=i&&1!=i){switch(i){case 6:s.rotateImg(this,"left",n);break;case 8:s.rotateImg(this,"right",n);break;case 3:s.rotateImg(this,"turntwo",n)}u=n.toDataURL("image/jpeg",.8),t.append("file[]",u)}else u=n.toDataURL("image/jpeg",.8),t.append("file[]",u);s.index++,s.panduan(e,t)}},o.readAsDataURL(a)},rotateImg:function(e,t,i){if(null!=e){var s=e.height,a=e.width,o=2;null==o&&(o=0),"right"==t?++o>3&&(o=0):--o<0&&(o=3);var n=90*o*Math.PI/180,l=i.getContext("2d");switch(o){case 0:i.width=a,i.height=s,l.drawImage(e,0,0);break;case 1:i.width=s,i.height=a,l.rotate(n),l.drawImage(e,0,-s);break;case 2:i.width=a,i.height=s,l.rotate(n),l.drawImage(e,-a,-s);break;case 3:i.width=s,i.height=a,l.rotate(n),l.drawImage(e,-a,0)}}},upload:function(){var e=this;this.param.append("token",localStorage.getItem("token")),this.$http.post(this.api+"/home/Upload/upload_many",this.param).then(function(t){if(1==t.data.code){var i=t.data.data;if("0"===e.houseNot){for(var s=0;s<i.length;s++)e.fileAllList.push({url:i[s].domain+i[s].image_url,image_id:i[s].image_id});e.$refs.file.value=""}else{for(var a=0;a<i.length;a++)e.imageList.push({url:i[a].domain+i[a].image_url,image_id:i[a].image_id}),e.imageIdList.push(i[a].image_id);e.$refs.fileA.value=""}e.isLoading=!1}else 3==t.data.code?e.$http.post(e.api+"/home/index/token").then(function(t){localStorage.setItem("token",t.data.data),e.upload()}):0==t.data.code&&(alert(t.data.msg),"0"===e.houseNot?e.$refs.file.value="":e.$refs.fileA.value="",e.isLoading=!1)}).catch(function(t){"0"===e.houseNot?e.$refs.file.value="":e.$refs.fileA.value="",e.isLoading=!1})},closeHouse:function(){this.isHouse=!1,this.houseIndex="",this.isHouse=!1,this.XGHouse=!1,this.remakeIndex="",this.houseID="",this.backHouse=[],this.house="",this.houseName="",this.houseNum="",this.perNum="",this.describe="",this.price="",this.backHOuseId=[]},uploadLook:function(e,t){this.dialogVisible=!0,this.dialogImageUrl=e.url},uploadDelet:function(e,t){this.fileAllList.splice(t,1)},DeletImg:function(e,t){this.imageList.splice(t,1)},checkl:function(){this.upLoadIndex==this.uploadList.length+1&&(this.upLoadIndex=1,this.uploadList=[],"0"===this.houseNot?this.$refs.firstupload.clearFiles():this.$refs.upload.clearFiles())},deletHouse:function(e,t){var i=this;if(this.backHOuseId.length>1||this.imageList.length>1)for(var s=function(s){i.backHOuseId[s].image_id==e.imageId&&i.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.saveHouseId.push(i.backHOuseId[s]),i.backHOuseId.splice(s,1),i.saveHouse.push(i.backHouse.imgUrl[t]),i.backHouse.imgUrl.splice(t,1)}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},a=0;a<this.backHOuseId.length;a++)s(a);else this.$alert("房源至少一张照片")},deletHouseImage:function(e,t){var i=this;this.$http.post(this.api+"/ImageD",{token:localStorage.getItem("token"),flag:1,image_id:e,table_id:this.active_id}).then(function(s){1==s.data.code?(i.houseImgList.splice(t,1),i.sendImgList.splice(t,1),i.$message({type:"success",message:"删除成功!"})):3==s.data.code?i.$http.post(i.api+"/home/index/token").then(function(s){localStorage.setItem("token",s.data.data),i.deletHouseImage(e,t)}):0==s.data.code&&alert(s.data.msg)})},deletea:function(e,t,i){var s=this;"1"==this.houseNot?1==i?(this.houseIndex=t,this.isHouse=!0,this.XGHouse=!0,this.remakeIndex=t,this.houseID=e.house_id,this.backHouse=e,this.house="露营"==e.houseType?"1":"民宿"==e.houseType?"2":"3",this.houseName=e.name,this.houseNum=e.type,this.perNum=e.perNum,this.describe=e.title,this.price=parseInt(e.price.slice(3)),this.backHOuseId=this.sendList[t].image):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){1==s.issatay?s.deleteHouse(e,t):(s.houseList.splice(t,1),s.sendList.splice(t,1))}).catch(function(){s.$message({type:"info",message:"已取消删除"})}):this.$confirm("此操作将永久删除该房源信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){2==s.issatay?s.deletHouseImage(s.sendImgList[t].image_id,t):(s.houseImgList.splice(t,1),s.sendImgList.splice(t,1))}).catch(function(){s.$message({type:"info",message:"已取消删除"})})},deleteHouse:function(e,t){var i=this;this.$http.post(this.api+"/HouseD",{token:localStorage.getItem("token"),house_id:e.house_id}).then(function(s){1==s.data.code?(i.houseList.splice(t,1),i.sendList.splice(t,1),i.$message({type:"success",message:"删除成功!"})):3==s.data.code?i.$http.post(i.api+"/home/index/token").then(function(t){localStorage.setItem("token",t.data.data),i.deleteHouse(e)}):0==s.data.code&&alert(s.data.msg)})},addHouse:function(){if(this.houseName)if(this.house)if(this.imageList.length||this.backHouse.imgUrl.length)if(this.houseNum&&/^[1-9]\d*$/.test(this.houseNum))if(this.describe)if(this.perNum&&/^[1-9]\d*$/.test(this.perNum))if(this.price&&/((^[1-9]\d*)|^0)(\.\d{0,2}){0,1}$/.test(this.price))if(this.sendImgList=[],this.houseImgList=[],1==this.house){this.aHouse("露营")}else if(2==this.house){this.aHouse("民宿")}else{this.aHouse("酒店")}else this.$message({type:"info",message:"请填写正确金额！（最多保留两位小数的正数）"});else this.$message({type:"info",message:"请填写房间可住人数(数字)"});else this.$message({type:"info",message:"请描述房源"});else this.$message({type:"info",message:"请填写正确房间数！"});else this.$message({type:"info",message:"请上传照片"});else this.$message({type:"info",message:"请选择类型"});else this.$message({type:"info",message:"请输入名称"})},aHouse:function(e){if(this.XGHouse){for(var t,i=[],s=[],a=[],o=[],n=0;n<this.imageList.length;n++)s.push({imgUrl:this.imageList[n].url,imageId:this.imageList[n].image_id}),a.push({image_id:this.imageList[n].image_id});for(var l=0;l<this.backHouse.imgUrl.length;l++)i.push({imgUrl:this.backHouse.imgUrl[l].imgUrl,imageId:this.backHouse.imgUrl[l].imageId}),o.push({image_id:this.backHouse.imgUrl[l].imageId});t=i.concat(s),this.houseList[this.remakeIndex]={imgUrl:t,houseType:e,type:this.houseNum,perNum:this.perNum,title:this.describe,price:"APY "+this.price,name:this.houseName},a=o.concat(a),this.sendList[this.remakeIndex]={house_id:this.houseID,num:this.houseNum,max_person:this.perNum,price:this.price,descript:this.describe,image:a,flag:this.house,title:this.houseName}}else{for(var u=[],h=0;h<this.imageList.length;h++)u.push({imgUrl:this.imageList[h].url,imageId:this.imageList[h].image_id});this.houseList.push({imgUrl:u,houseType:e,type:this.houseNum,perNum:this.perNum,title:this.describe,price:"APY "+this.price,name:this.houseName});for(var r=[],c=0;c<this.imageList.length;c++)r.push({image_id:this.imageList[c].image_id});this.sendList.push({num:this.houseNum,max_person:this.perNum,price:this.price,descript:this.describe,image:r,flag:this.house,title:this.houseName})}this.houseNum="",this.perNum="",this.describe="",this.price="",this.imageList=[],this.imageIdList=[],this.normal=[],this.saveHouse=[],this.saveHouseId=[],this.houseName="",this.house="",this.isHouse=!1,this.XGHouse=!1},changeRouter:function(){var e=this;"1"==this.houseNot?1==this.radio?this.sendList.length&&this.fileAllList.length?this.$confirm("此操作将覆盖包含住宿添加的房源图片, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.check()}).catch(function(){e.$message({type:"info",message:"已取消"})}):this.sendList.length&&!this.fileAllList.length?this.check():this.$message({type:"info",message:"请添加房源!"}):this.check():this.sendList.length?this.$confirm("此操作将覆盖未包含住宿里面单独提供的房源, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.sendHouse()}).catch(function(){e.$message({type:"info",message:"已取消"})}):this.fileAllList.length?this.sendHouse():this.$message({type:"info",message:"请添加住宿照片"})},sendHouse:function(){var e=this;this.active_id?this.$http.post(this.api+"/home/Activity/save_activity",{token:localStorage.getItem("token"),activity_id:this.active_id,issatay:2,house_image:this.fileAllList,step:12}).then(function(t){1==t.data.code?e.complete?e.$message({type:"success",message:"保存成功!"}):e.$emit("changeRouter",{id:13,router:"attation",information:e.active_id,complete:e.complete}):3==t.data.code?e.sendHouse():0==t.data.code&&e.$alert(t.data.msg)}):this.$http.post(this.api+"/home/Activity/save_activity",{token:localStorage.getItem("token"),issatay:2,house_image:this.fileAllList,step:12}).then(function(t){1==t.data.code?(e.$emit("saveId",t.data.data),e.$emit("changeRouter",{id:13,router:"attation",information:t.data.data})):3==t.data.code?e.sendHouse():0==t.data.code&&e.$alert(t.data.msg)})},check:function(){var e=this;this.active_id?this.$http.post(this.api+"/home/Activity/save_activity",{token:localStorage.getItem("token"),activity_id:this.active_id,issatay:this.radio,house:this.radio?this.sendList:"",step:12}).then(function(t){1==t.data.code?e.complete?e.$message({type:"success",message:"保存成功!"}):e.$emit("changeRouter",{id:13,router:"attation",information:e.active_id,complete:e.complete}):3==t.data.code?e.check():0==t.data.code&&e.$alert(t.data.msg)}):this.$http.post(this.api+"/home/Activity/save_activity",{token:localStorage.getItem("token"),issatay:this.radio,house:this.radio?this.sendList:"",step:12}).then(function(t){1==t.data.code?(e.$emit("saveId",t.data.data),e.$emit("changeRouter",{id:13,router:"attation",information:t.data.data})):3==t.data.code?e.check():0==t.data.code&&e.$alert(t.data.msg)})},getActives:function(){var e=this;this.$http.post(this.api+"/ActivityE",{token:localStorage.getItem("token"),activity_id:this.active_id,visit:0}).then(function(t){if(1==t.data.code){var i=t.data.data;if(1==i.issatay){e.issatay=1,e.houseNot="1",e.radio="1";for(var s=0;s<i.house.length;s++)if(1==i.house[s].flag){for(var a=[],o=[],n=0;n<i.house[s].image.length;n++)a.push({imgUrl:i.house[s].image[n].domain+i.house[s].image[n].themb_url,imageId:i.house[s].image[n].image_id}),o.push({image_id:i.house[s].image[n].image_id});e.houseList.push({imgUrl:a,houseType:"露营",type:i.house[s].num,perNum:i.house[s].max_person,house_id:i.house[s].house_id,title:i.house[s].descript,price:"APY"+i.house[s].price,name:i.house[s].title}),e.sendList.push({house_id:i.house[s].house_id,num:i.house[s].num,max_person:i.house[s].max_person,price:i.house[s].price,descript:i.house[s].descript,image:o,flag:i.house[s].flag,title:i.house[s].title})}else if(2==i.house[s].flag){for(var l=[],u=[],h=0;h<i.house[s].image.length;h++)l.push({imgUrl:i.house[s].image[h].domain+i.house[s].image[h].themb_url,imageId:i.house[s].image[h].image_id}),u.push({image_id:i.house[s].image[h].image_id});e.houseList.push({imgUrl:l,houseType:"民宿",type:i.house[s].num,perNum:i.house[s].max_person,house_id:i.house[s].house_id,title:i.house[s].descript,price:"APY"+i.house[s].price,name:i.house[s].title}),e.sendList.push({house_id:i.house[s].house_id,num:i.house[s].num,max_person:i.house[s].max_person,price:i.house[s].price,descript:i.house[s].describe,image:u,flag:i.house[s].house,title:i.house[s].title})}else if(3==i.house[s].flag){for(var r=[],c=[],d=0;d<i.house[s].image.length;d++)r.push({imgUrl:i.house[s].image[d].domain+i.house[s].image[d].themb_url,imageId:i.house[s].image[d].image_id}),c.push({image_id:i.house[s].image[d].image_id});e.houseList.push({imgUrl:r,houseType:"酒店",type:i.house[s].num,perNum:i.house[s].max_person,house_id:i.house[s].house_id,title:i.house[s].descript,price:"APY"+i.house[s].price,name:i.house[s].title}),e.sendList.push({house_id:i.house[s].house_id,num:i.house[s].num,max_person:i.house[s].max_person,price:i.house[s].price,descript:i.house[s].describe,image:c,flag:i.house[s].house,title:i.house[s].title})}}else if(2==i.issatay){if(e.issatay=2,e.houseNot="0",i.houseimage.length)for(var p=0;p<i.houseimage.length;p++)e.fileAllList.push({url:i.houseimage[p].domain+i.houseimage[p].image_url,image_id:i.houseimage[p].image_id})}else e.issatay=0,e.houseNot="1",e.radio="0"}else 3==t.data.code?e.getActives():0==t.data.code&&e.$alert(t.data.msg)})}},mounted:function(){window.scroll(0,0);this.active_id&&this.getActives()},created:function(){this.active_id=this.$route.query.information,this.complete=this.$route.query.complete}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"exp_con"},[i("p",{staticClass:"title"},[e._v("该活动是否包含住宿")]),e._v(" "),i("div",{staticStyle:{"font-size":"20px",margin:"20px 0"}},[i("el-radio",{attrs:{label:"0"},model:{value:e.houseNot,callback:function(t){e.houseNot=t},expression:"houseNot"}},[i("b",[e._v("是")])]),e._v(" "),i("el-radio",{attrs:{label:"1"},model:{value:e.houseNot,callback:function(t){e.houseNot=t},expression:"houseNot"}},[i("b",[e._v("否")])])],1),e._v(" "),"0"==e.houseNot?i("div",[i("p",{staticClass:"language_txt fontweight"},[e._v("请上传您提供的住宿图片")]),e._v(" "),i("div",{staticStyle:{margin:"20px 0"}},[i("div",{staticStyle:{"margin-top":"30px"}},[i("div",{staticClass:"formFile"},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"30px"}}),e._v(" "),i("input",{ref:"file",staticClass:"upload",attrs:{type:"file",multiple:""},on:{change:e.seletI}})])]),e._v(" "),e.fileAllList.length?i("p",{staticStyle:{"font-size":"12px",color:"#008489",margin:"10px 0"}},[e._v("（小贴士：可以对您的照片进行排序再保存）")]):e._e(),e._v(" "),e.fileAllList.length?i("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.fileAllList,function(t,s){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.fileAllList,group:"item"},expression:"{ item: item, list: fileAllList, group: 'item' }"}],key:s,staticStyle:{margin:"20px 0"}},[i("div",{staticStyle:{width:"150px",height:"150px","background-size":"100% 100%","margin-right":"20px"},style:{backgroundImage:"url("+t.url+")"}},[i("div",{staticStyle:{width:"150px",height:"150px",position:"relative","background-color":"rgba(0,0,0,.3)"}},[i("div",{staticStyle:{position:"absolute",top:"50%",left:"50%",width:"50px",height:"20px",display:"flex","justify-content":"flex-start","margin-left":"-25px","margin-top":"-10px"}},[i("i",{staticClass:"el-icon-zoom-in",staticStyle:{"font-size":"20px",color:"white",cursor:"pointer"},on:{click:function(i){e.uploadLook(t,s)}}}),i("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"20px",color:"white","margin-left":"10px",cursor:"pointer"},on:{click:function(i){e.uploadDelet(t,s)}}})])])])])})):e._e(),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),i("p")]):e._e(),e._v(" "),"1"==e.houseNot?i("div",{staticStyle:{"font-size":"20px",margin:"20px 0"}},[e._m(0),e._v(" "),i("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[i("b",[e._v("提供")])]),e._v(" "),i("el-radio",{attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[i("b",[e._v("不提供")])])],1):e._e(),e._v(" "),"1"==e.houseNot&&"1"==e.radio?i("div",[i("p",{staticStyle:{color:"#008489",cursor:"pointer",margin:"20px 0"}},[i("span",{on:{click:function(t){e.isHouse=!e.isHouse}}},[e.isHouse?e._e():i("i",{staticClass:"el-icon-plus"}),e._v(e._s(e.isHouse?"取消":"添加房源"))])])]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isHouse,expression:"isHouse"}]},[e.XGHouse?i("div",{staticStyle:{display:"flex","justify-content":"space-between",color:"#008489","margin-bottom":"10px"}},[i("span",[e._v("您正在对添加的房源进行修改")]),i("span",{on:{click:e.closeHouse}},[e._v("取消")])]):e._e(),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("请选择您提供的住宿类型")]),e._v(" "),i("div",{staticStyle:{"font-size":"20px",margin:"20px 0"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.house,callback:function(t){e.house=t},expression:"house"}},[i("b",[e._v("露营")])]),e._v(" "),i("el-radio",{attrs:{label:"2"},model:{value:e.house,callback:function(t){e.house=t},expression:"house"}},[i("b",[e._v("民宿")])]),e._v(" "),i("el-radio",{attrs:{label:"3"},model:{value:e.house,callback:function(t){e.house=t},expression:"house"}},[i("b",[e._v("酒店")])])],1),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("请上传您提供的住宿图片")]),e._v(" "),i("div",{staticStyle:{margin:"20px 0"}},[i("div",{staticStyle:{margin:"20px 0"}},[i("div",{staticStyle:{"margin-top":"30px"}},[i("div",{staticClass:"formFile"},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"30px"}}),e._v(" "),i("input",{ref:"fileA",staticClass:"upload",attrs:{type:"file",multiple:""},on:{change:e.seletI}})])])]),e._v(" "),e.imageList.length?i("p",{staticStyle:{"font-size":"12px",color:"#008489",margin:"10px 0"}},[e._v("（小贴士：可以对您的照片进行排序再保存）")]):e._e(),e._v(" "),e.imageList.length?i("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.imageList,function(t,s){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.imageList,group:"item"},expression:"{ item: item, list: imageList, group: 'item' }"}],key:s,staticStyle:{margin:"20px 0"}},[i("div",{staticStyle:{width:"150px",height:"150px","background-size":"100% 100%","margin-right":"20px"},style:{backgroundImage:"url("+t.url+")"}},[i("div",{staticStyle:{width:"150px",height:"150px",position:"relative","background-color":"rgba(0,0,0,.3)"}},[i("div",{staticStyle:{position:"absolute",top:"50%",left:"50%",width:"50px",height:"20px",display:"flex","justify-content":"flex-start","margin-left":"-25px","margin-top":"-10px"}},[i("i",{staticClass:"el-icon-zoom-in",staticStyle:{"font-size":"20px",color:"white",cursor:"pointer"},on:{click:function(i){e.uploadLook(t,s)}}}),i("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"20px",color:"white","margin-left":"10px",cursor:"pointer"},on:{click:function(i){e.DeletImg(t,s)}}})])])])])})):e._e(),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.XGHouse&&e.backHouse.imgUrl.length,expression:"XGHouse && backHouse.imgUrl.length"}]},[i("p",{staticClass:"language_txt fontweight"},[e._v("已上传图片")]),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","flex-wrap":"wrap",margin:"20px 0"}},e._l(e.backHouse.imgUrl,function(t,s){return i("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.backHouse.imgUrl,group:"items"},expression:"{ item: items, list:  backHouse.imgUrl, group: 'items' }"}],key:s,staticStyle:{position:"relative",width:"178px",height:"178px","margin-right":"10px","margin-bottom":"10px"}},[i("img",{staticStyle:{width:"100%",height:"100%","border-radius":"10px"},attrs:{src:t.imgUrl}}),e._v(" "),i("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,.5)",display:"flex","justify-content":"center","align-items":"center"}},[i("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"20px",color:"#fff","z-index":"999",cursor:"pointer"},on:{click:function(i){e.deletHouse(t,s)}}})])])}))]),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("提供住宿名称")]),e._v(" "),i("el-input",{staticStyle:{width:"200px",margin:"20px 0"},attrs:{type:"text",placeholder:"请输入名称"},model:{value:e.houseName,callback:function(t){e.houseName=t},expression:"houseName"}}),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("请填写提供的"+e._s("1"==e.house?"帐篷":"房间")+"数")]),e._v(" "),i("el-input",{staticStyle:{width:"200px",margin:"20px 0"},attrs:{type:"text",placeholder:"请输入房间数"},model:{value:e.houseNum,callback:function(t){e.houseNum=t},expression:"houseNum"}}),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("请简单介绍您的一个帐篷或者民宿房间或者酒店房间可住情况")]),e._v(" "),i("el-input",{staticStyle:{width:"200px",margin:"20px 0"},attrs:{type:"text",placeholder:"请输入"},model:{value:e.perNum,callback:function(t){e.perNum=t},expression:"perNum"}}),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("请简单介绍您的住宿情况")]),e._v(" "),i("el-input",{staticStyle:{margin:"20px 0",width:"600px"},attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请说明下..."},model:{value:e.describe,callback:function(t){e.describe=t},expression:"describe"}}),e._v(" "),i("p",{staticClass:"language_txt fontweight"},[e._v("输入住宿价格")]),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-start",margin:"20px 0"}},[i("div",{staticStyle:{height:"40px",border:"1px solid #008489","line-height":"40px",padding:"0 10px","border-right":"none"}},[e._v("APY(人民币)")]),e._v(" "),i("div",{staticStyle:{"line-height":"40px","text-align":"center",width:"200px",border:"1px solid #008489","padding-left":"10px","padding-right":"10px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],staticStyle:{width:"200px",border:"none"},attrs:{type:"text",placeholder:"请输入价格..."},domProps:{value:e.price},on:{input:function(t){t.target.composing||(e.price=t.target.value)}}})])]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:e.addHouse}},[e._v("添加")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:e.closeHouse}},[e._v("取消")])],1),e._v(" "),"1"==e.houseNot&&"1"==e.radio?i("div",{staticStyle:{display:"flex","flex-wrap":"wrap",margin:"20px 0"}},e._l(e.houseList,function(t,s){return i("div",{key:s,staticStyle:{margin:"20px 40px 20px 0"}},[i("div",{staticStyle:{width:"333px",height:"222px",position:"relative"}},[i("el-carousel",{attrs:{autoplay:!1,"indicator-position":"none",trigger:"click",height:"222px"}},e._l(t.imgUrl,function(t,s){return s<4?i("el-carousel-item",[i("img",{attrs:{src:t.imgUrl,width:"100%",height:"100%"}})]):e._e()})),e._v(" "),i("div",{staticStyle:{position:"absolute",top:"0","background-color":"rgba(0,0,0,.5)",color:"#fff","text-align":"right",width:"100%","z-index":"999","font-size":"20px",cursor:"pointer"}},[i("i",{staticClass:"el-icon-edit",on:{click:function(i){e.deletea(t,s,1)}}}),e._v(" "),i("i",{staticClass:"el-icon-delete",on:{click:function(i){e.deletea(t,s,2)}}})])],1),e._v(" "),i("div",{staticStyle:{width:"333px"}},[i("p",{staticClass:"language_txt",staticStyle:{"font-size":"12px",display:"flex","justify-content":"space-between"}},[i("span",[i("b",[e._v(e._s(t.type)+"·"+e._s(t.perNum))])]),e._v(" "),i("span",{staticStyle:{padding:"2px 10px","background-color":"#008489",color:"#fff","border-radius":"5px"}},[e._v(e._s(t.houseType))])]),e._v(" "),i("p",{staticClass:"language_txt",staticStyle:{"font-size":"12px"}},[i("b",[e._v(e._s(t.name))])]),e._v(" "),i("p",{staticClass:"language_txt",staticStyle:{"font-size":"12px"}},[i("b",[e._v(e._s(t.title))])]),e._v(" "),i("p",{staticClass:"language_txt",staticStyle:{"font-size":"12px"}},[i("b",[e._v(e._s(t.price))])])])])})):e._e(),e._v(" "),i("div",[i("el-button",{staticStyle:{margin:"20px 0"},attrs:{type:"primary",plain:""},on:{click:e.changeRouter}},[e._v(e._s(e.complete?"保存":"下一步"))])],1),e._v(" "),e.isLoading?i("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"990","background-color":"rgba(255,255,255,.8)",display:"flex","justify-content":"center","align-items":"center"}},[i("div",[i("Loading"),e._v(" "),i("p",[e._v("上传中")])],1)]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticStyle:{"margin-bottom":"20px"}},[t("b",[this._v("是否为旅客提供住宿")])])}]};var p=i("VU/8")(c,d,!1,function(e){i("eoYq")},"data-v-3a2068e2",null);t.default=p.exports},eoYq:function(e,t){}});
//# sourceMappingURL=123.050ee10086a1a191fac9.js.map