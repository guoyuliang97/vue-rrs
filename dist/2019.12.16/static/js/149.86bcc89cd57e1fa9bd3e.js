webpackJsonp([149],{QLDF:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("/nBy"),n=i("ZKg9"),o=i("a20G"),s=(o.a,n.a,a.a,{name:"myAplication",data:function(){return{api:this.GLOBAL.baseURL,value:"",options:[{label:"全部",value:"0"},{label:"待处理",value:"1"},{label:"已同意",value:"2"},{label:"已谢绝",value:"3"}],palyerList:[],total:0,isLoading:!1}},components:{None:o.a,LoadingImg:n.a,Loading:a.a},methods:{toPublish:function(t,e){this.$router.push({path:"/publishPage",query:{information:t.activity_id}})},getInvite:function(t){var e=this;this.isLoading=!0,this.$http.post(this.api+"/ErollListMy",{token:localStorage.getItem("token"),page:t}).then(function(i){1==i.data.code?(i.data.data.data&&(e.total=i.data.data.total,e.palyerList=i.data.data.data),e.isLoading=!1):3==i.data.code?e.$http.post(e.api+"/home/index/token").then(function(i){localStorage.setItem("token",i.data.data),e.getInvite(t)}):0==i.data.code&&(alert(i.data.msg),e.isLoading=!1)})},handleCurrentChange:function(t){this.getInvite(t)},backInvit:function(t,e){var i=this;this.$confirm("此操作将撤回对该活动的志愿者申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.returnBM(t,e)}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},returnBM:function(t,e){var i=this;this.$http.post(this.api+"/ErollD",{token:localStorage.getItem("token"),enroll_id:t.enroll_id}).then(function(a){1==a.data.code?(t.status=1,i.$message({type:"success",message:"撤回成功!"})):3==a.data.code?i.$http.post(i.api+"/home/index/token").then(function(a){localStorage.setItem("token",a.data.data),i.returnBM(t,e)}):0==a.data.code&&alert(a.data.msg)})}},mounted:function(){this.getInvite(1)}}),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"margin-top":"15px"}},[i("div",{staticStyle:{"margin-top":"17px"}},t._l(t.palyerList,function(e,a){return i("div",{key:a,staticStyle:{padding:"18px 0","border-bottom":"1px solid #E8E8E8"}},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"14px","line-height":"48px"}},[i("div",[i("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.user.head_image?e.user.headimage.domain+e.user.headimage.image_url:"../../../static/img/static/user.png",width:"48px",height:"48px"}})]),t._v(" "),i("div",{staticStyle:{margin:"0 10px"}},[t._v("\n          我\n        ")]),t._v(" "),i("div",{staticStyle:{color:"#999999"}},[t._v("\n          "+t._s(e.create_time)+"\n        ")])]),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("LoadingImg",{staticStyle:{width:"200px",height:"135px",overflow:"hidden",cursor:"pointer"},attrs:{type:"3",src:e.activity.cover.domain+e.activity.cover.image_url},on:{toPublish:function(i){t.toPublish(e,a)}}})],1),t._v(" "),i("div",{staticStyle:{width:"750px","font-size":"12px","line-height":"30px"}},[i("p",{staticStyle:{color:"#999999"}},t._l(e.activity.kind,function(e){return i("span",[t._v(t._s("/"+e.kind_name))])})),t._v(" "),i("p",[i("b",[t._v(t._s(e.activity.title))])]),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("span",[t._v(t._s(e.activity.score))]),t._v(" "),i("div",{staticStyle:{"margin-left":"10px"}},[i("el-rate",{staticStyle:{"margin-top":"5px"},attrs:{disabled:"",value:parseInt(e.activity.score),colors:["#008489","#008489","#008489"]}})],1),t._v(" "),i("div",{staticStyle:{"margin-left":"15px"}},[t._v("\n              评论("+t._s(e.activity.comment_num)+")\n            ")])]),t._v(" "),i("div",{staticStyle:{"margin-top":"15px"}},[i("span",[t._v("￥"+t._s(e.price))]),t._v(" "),i("span",{staticStyle:{color:"#008489","margin-left":"10px"}},[t._v("报名志愿活动时间："),t._l(e.slot_id,function(e,a){return i("span",[t._v(t._s(e.begin_time+"—"+e.end_time)+"，")])})],2)])]),t._v(" "),0==e.status?i("div",{style:{lineHeight:0==e.audit?"55px":"135px"}},[i("div",[i("el-button",{attrs:{type:"primary"}},[t._v(t._s(e.audit?1==e.audit?"已同意":"已拒绝":"待处理"))])],1),t._v(" "),0==e.audit?i("div",[i("el-button",{on:{click:function(i){t.backInvit(e,a)}}},[t._v("撤回")])],1):t._e()]):t._e(),t._v(" "),1==e.status?i("div",{staticStyle:{"line-height":"135px"}},[i("div",[i("el-button",{staticStyle:{"background-color":"#fff","border-color":"red",color:"red"}},[t._v("已撤回")])],1)]):t._e()])])})),t._v(" "),t.palyerList.length?t._e():i("div",[i("None",{attrs:{type:"myInvite"}})],1),t._v(" "),i("div",{staticStyle:{margin:"20px 0"}},[i("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),t.isLoading?i("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"990","background-color":"rgba(255,255,255,.8)",display:"flex","justify-content":"center","align-items":"center"}},[i("Loading")],1):t._e()])},staticRenderFns:[]};var r=i("VU/8")(s,l,!1,function(t){i("VS/v")},"data-v-186349e0",null);e.default=r.exports},"VS/v":function(t,e){}});
//# sourceMappingURL=149.86bcc89cd57e1fa9bd3e.js.map