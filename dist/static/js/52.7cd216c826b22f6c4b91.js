webpackJsonp([52],{QLDF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("/nBy"),n=a("ZKg9"),o=a("a20G"),s=(o.a,n.a,i.a,{name:"myAplication",data:function(){return{api:this.GLOBAL.baseURL,value:"",options:[{label:"全部",value:"0"},{label:"待处理",value:"1"},{label:"已同意",value:"2"},{label:"已谢绝",value:"3"}],palyerList:[],total:0,isLoading:!1}},components:{None:o.a,LoadingImg:n.a,Loading:i.a},methods:{toPublish:function(t,e){this.$router.push({path:"/publishPage",query:{information:t.activity_id}})},getInvite:function(t){var e=this;this.isLoading=!0,this.$http.post(this.api+"/ErollListMy",{token:localStorage.getItem("token"),page:t}).then(function(a){1==a.data.code?(a.data.data.data&&(e.total=a.data.data.total,e.palyerList=a.data.data.data),e.isLoading=!1):3==a.data.code?e.$http.post(e.api+"/home/index/token").then(function(a){localStorage.setItem("token",a.data.data),e.getInvite(t)}):0==a.data.code&&(alert(a.data.msg),e.isLoading=!1)})},handleCurrentChange:function(t){this.getInvite(t)},backInvit:function(t,e){var a=this;this.$confirm("此操作将撤回对该活动的志愿者申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.returnBM(t,e)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},returnBM:function(t,e){var a=this;this.$http.post(this.api+"/ErollD",{token:localStorage.getItem("token"),enroll_id:t.enroll_id}).then(function(i){1==i.data.code?(t.status=1,a.$message({type:"success",message:"撤回成功!"})):3==i.data.code?a.$http.post(a.api+"/home/index/token").then(function(i){localStorage.setItem("token",i.data.data),a.returnBM(t,e)}):0==i.data.code&&alert(i.data.msg)})}},mounted:function(){this.getInvite(1)}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"15px"}},[a("div",{staticStyle:{"margin-top":"17px"}},t._l(t.palyerList,function(e,i){return a("div",{key:i,staticStyle:{padding:"18px 0","border-bottom":"1px solid #E8E8E8"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"14px","line-height":"48px"}},[a("div",[a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.user.head_image?e.user.headimage.domain+e.user.headimage.image_url:"../../../static/img/static/user.png",width:"48px",height:"48px"}})]),t._v(" "),a("div",{staticStyle:{margin:"0 10px"}},[t._v("\n          我\n        ")]),t._v(" "),a("div",{staticStyle:{color:"#999999"}},[t._v("\n          "+t._s(e.create_time)+"\n        ")])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("LoadingImg",{staticStyle:{width:"200px",height:"135px",overflow:"hidden",cursor:"pointer"},attrs:{type:"2",src:e.activity.cover.domain+e.activity.cover.image_url},on:{toPublish:function(a){t.toPublish(e,i)}}})],1),t._v(" "),a("div",{staticStyle:{width:"750px","font-size":"12px","line-height":"30px"}},[a("p",{staticStyle:{color:"#999999"}},t._l(e.activity.kind,function(e){return a("span",[t._v(t._s("/"+e.kind_name))])})),t._v(" "),a("p",[a("b",[t._v(t._s(e.activity.title))])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("span",[t._v(t._s(e.activity.score))]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px"}},[a("el-rate",{staticStyle:{"margin-top":"5px"},attrs:{disabled:"",value:parseInt(e.activity.score),colors:["#14c5ca","#14c5ca","#14c5ca"]}})],1),t._v(" "),a("div",{staticStyle:{"margin-left":"15px"}},[t._v("\n              评论("+t._s(e.activity.comment_num)+")\n            ")])]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("span",[t._v("￥"+t._s(e.price))]),t._v(" "),a("span",{staticStyle:{color:"#14c5ca","margin-left":"10px"}},[t._v("报名志愿活动时间："),t._l(e.slot_id,function(e,i){return a("span",[t._v(t._s(e.begin_time+"—"+e.end_time)+"，")])})],2)])]),t._v(" "),0==e.status?a("div",{style:{lineHeight:0==e.audit?"55px":"135px"}},[a("div",[a("el-button",{attrs:{type:"primary"}},[t._v(t._s(e.audit?1==e.audit?"已同意":"已拒绝":"待处理"))])],1),t._v(" "),0==e.audit?a("div",[a("el-button",{on:{click:function(a){t.backInvit(e,i)}}},[t._v("撤回")])],1):t._e()]):t._e(),t._v(" "),1==e.status?a("div",{staticStyle:{"line-height":"135px"}},[a("div",[a("el-button",{staticStyle:{"background-color":"#fff","border-color":"red",color:"red"}},[t._v("已撤回")])],1)]):t._e()])])})),t._v(" "),t.palyerList.length?t._e():a("div",[a("None",{attrs:{type:"myInvite"}})],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),t.isLoading?a("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"990","background-color":"rgba(255,255,255,.8)",display:"flex","justify-content":"center","align-items":"center"}},[a("Loading")],1):t._e()])},staticRenderFns:[]};var c=a("VU/8")(s,l,!1,function(t){a("dho3")},"data-v-7c5c3862",null);e.default=c.exports},dho3:function(t,e){}});
//# sourceMappingURL=52.7cd216c826b22f6c4b91.js.map