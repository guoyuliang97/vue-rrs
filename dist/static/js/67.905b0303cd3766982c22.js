webpackJsonp([67],{"7pJp":function(t,e){},bxZt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("/nBy"),n=a("ZKg9"),o=a("a20G"),s=(o.a,n.a,i.a,{name:"palyerInvite",data:function(){return{api:this.GLOBAL.baseURL,value:"",userImg:"../../../static/img/static/user.png",options:[{label:"全部",value:"0"},{label:"待处理",value:"1"},{label:"已同意",value:"2"},{label:"已谢绝",value:"3"}],palyerList:[],total:0,isLoading:!1}},components:{None:o.a,LoadingImg:n.a,Loading:i.a},methods:{toPublish:function(t,e){this.$router.push({path:"/publishPage",query:{information:t.activity_id}})},getOther:function(t){0!=t?this.getOtherInvit(1,parseInt(t)-1):this.getInvite(1)},deelInvite:function(t,e){var a=this;this.$confirm("此操作将同意或者拒绝该申请","是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.goOndelte(t,e)}).catch(function(){a.$message({type:"info",message:"已取消"})})},goOndelte:function(t,e){var a=this;this.$http.post(this.api+"/InviteA",{token:localStorage.getItem("token"),invite_id:t.invite_id,flag:e}).then(function(i){1==i.data.code?(1==e?a.$message({type:"success",message:"同意成功！"}):a.$message({type:"success",message:"谢绝成功！"}),t.audit=e):3==i.data.code?a.$http.post(a.api+"/home/index/token").then(function(i){localStorage.setItem("token",i.data.data),a.goOndelte(t,e)}):0==i.data.code&&alert(i.data.msg)})},getOtherInvit:function(t,e){var a=this;this.isLoading=!0,this.$http.post(this.api+"/InviteL",{token:localStorage.getItem("token"),page:t,audit:e}).then(function(e){1==e.data.code?(e.data.data.data?(a.palyerList=e.data.data.data,a.total=e.data.data.total):(a.palyerList=[],a.total=0),a.isLoading=!1):3==e.data.code?a.$http.post(a.api+"/home/index/token").then(function(e){localStorage.setItem("token",e.data.data),a.getInvite(t)}):0==e.data.code&&(alert(e.data.msg),a.isLoading=!1)})},getInvite:function(t){var e=this;this.isLoading=!0,this.$http.post(this.api+"/InviteL",{token:localStorage.getItem("token"),page:t}).then(function(a){1==a.data.code?(a.data.data.data?(e.palyerList=a.data.data.data,e.total=a.data.data.total):(e.palyerList=[],e.total=0),e.isLoading=!1):3==a.data.code?e.$http.post(e.api+"/home/index/token").then(function(a){localStorage.setItem("token",a.data.data),e.getInvite(t)}):0==a.data.code&&(alert(a.data.msg),e.isLoading=!1)})},handleCurrentChange:function(t){this.value?this.getOtherInvit(t,parseInt(this.value)-1):this.getInvite(t)},touser:function(t,e){this.$router.push({path:"/userdata",query:{information:t.invuser.user_id}})}},mounted:function(){this.getInvite(1)}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"15px"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"12px","line-height":"40px"}},[a("div",[t._v("筛选")]),t._v(" "),a("div",{staticStyle:{"margin-left":"15px"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.getOther},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticStyle:{"margin-top":"17px"}},t._l(t.palyerList,function(e,i){return a("div",{key:i,staticStyle:{padding:"18px 0","border-bottom":"1px solid #E8E8E8"}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","font-size":"14px","line-height":"48px"}},[a("div",[a("img",{staticStyle:{"border-radius":"50%"},attrs:{src:e.invuser.head_image?e.invuser.headimage.domain+e.invuser.headimage.image_url:t.userImg,width:"48px",height:"48px"}})]),t._v(" "),a("div",{staticStyle:{margin:"0 10px",cursor:"pointer"},on:{click:function(a){t.touser(e,i)}}},[t._v("\n            "+t._s(e.invuser.family_name+"·"+e.invuser.middle_name+"·"+e.invuser.name)+"(策划人)\n          ")]),t._v(" "),a("div",{staticStyle:{color:"#999999"}},[t._v("\n            "+t._s(e.create_time)+"\n          ")])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("LoadingImg",{staticStyle:{width:"200px",height:"135px",overflow:"hidden",cursor:"pointer"},attrs:{type:"2",src:e.cover.domain+e.cover.image_url},on:{toPublish:function(a){t.toPublish(e,i)}}})],1),t._v(" "),a("div",{staticStyle:{width:"750px","font-size":"12px","line-height":"30px"}},[a("p",{staticStyle:{color:"#999999"}},t._l(e.kind,function(e){return a("span",[t._v(t._s("/"+e.kind_name))])})),t._v(" "),a("p",[a("b",[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("span",[t._v(t._s(e.score))]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px"}},[a("el-rate",{staticStyle:{"margin-top":"5px"},attrs:{disabled:"",value:parseInt(e.score),colors:["#14c5ca","#14c5ca","#14c5ca"]}})],1),t._v(" "),a("div",{staticStyle:{"margin-left":"15px"}},[t._v("\n                评论("+t._s(e.comment_num)+")\n              ")])]),t._v(" "),a("div",{staticStyle:{"margin-top":"26px"}},[a("span",[t._v("￥"+t._s(e.price))]),t._v(" "),a("span",{staticStyle:{color:"#14c5ca","margin-left":"10px"}},[t._v("邀请志愿时间："),t._l(e.slot,function(e,i){return a("span",[t._v(t._s(e.begin_time+"—"+e.end_time)+"，")])})],2)])]),t._v(" "),0==e.audit?a("div",{staticStyle:{"line-height":"55px"}},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.deelInvite(e,1)}}},[t._v("同意")])],1),t._v(" "),a("div",[a("el-button",{staticStyle:{border:"1px solid #000",color:"#000","margin-top":"10px","background-color":"#fff"},on:{click:function(a){t.deelInvite(e,2)}}},[t._v("谢绝")])],1)]):t._e(),t._v(" "),0!=e.audit?a("div",{staticStyle:{"line-height":"135px"}},[a("el-button",{attrs:{type:"primary"}},[t._v(t._s(1==e.audit?"已同意":"已谢绝"))])],1):t._e()])])})),t._v(" "),t.palyerList.length?t._e():a("div",[a("None",{attrs:{type:"invite"}})],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[a("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),t.isLoading?a("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"990","background-color":"rgba(255,255,255,.8)",display:"flex","justify-content":"center","align-items":"center"}},[a("Loading")],1):t._e()])},staticRenderFns:[]};var r=a("VU/8")(s,l,!1,function(t){a("7pJp")},"data-v-607d864f",null);e.default=r.exports}});
//# sourceMappingURL=67.905b0303cd3766982c22.js.map