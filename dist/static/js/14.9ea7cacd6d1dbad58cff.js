webpackJsonp([14],{"8p4h":function(e,a){},"9sHe":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("YVRd"),i={data:function(){return{api:this.GLOBAL.baseURL,country:"",countryArr:[],isAddcard:!1,card:"",name:"",bank:"",bankList:[],saveList:[],deletBank:!1}},watch:{card:function(){var e=this.card;/\S{5}/.test(e)&&(this.card=e.replace(/\s/g,"").replace(/(.{4})/g,"$1 "))}},methods:{saveBank:function(){var e=this;this.card?this.name?this.bank?this.$http.post(this.api+"/banks",{token:localStorage.getItem("token"),bank_name:this.bank,card_number:this.card,user_name:this.name}).then(function(a){1==a.data.code?(e.getBank(),e.isAddcard=!1):3==a.data.code?e.$http.post(e.api+"/home/Index/token").then(function(a){localStorage.setItem("token",a.data.data),e.saveBank()}):0==a.data.code&&alert(a.data.msg)}):this.$message({type:"info",message:"请填写银行名称"}):this.$message({type:"info",message:"请填写用户姓名"}):this.$message({type:"info",message:"请填写银行卡号"})},getBank:function(){var e=this;this.$http.post(this.api+"/bankl",{token:localStorage.getItem("token")}).then(function(a){1==a.data.code?e.saveList=a.data.data:3==a.data.code?e.$http.post(e.api+"/home/index/token").then(function(a){localStorage.setItem("token",a.data.data),e.getBank()}):alert(a.data.msg)})},delet:function(){this.deletBank=!this.deletBank},deleteBnak:function(e,a){var t=this;this.$confirm("此操作将永久删除绑定银行卡, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteAllA(e,a)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},deleteAllA:function(e,a){var t=this;this.$http.post(this.api+"/bankd",{token:localStorage.getItem("token"),bank_id:e.bank_id}).then(function(n){1==n.data.code?t.saveList.splice(a,1):3==n.data.code?t.$http.post(t.api+"/home/index/token").then(function(n){localStorage.setItem("token",n.data.data),t.deleteAllA(e,a)}):0==n.data.code&&alert(n.data.msg)})}},mounted:function(){this.bankList=Object(n.a)(),this.getBank()}},s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{"text-align":"left"}},[t("p",{staticClass:"fontweight"},[e._v("结算国家/地区")]),e._v(" "),t("div",[t("el-select",{staticStyle:{width:"50%","margin-top":"20px"},attrs:{placeholder:"请选择",disabled:""},model:{value:e.country,callback:function(a){e.country=a},expression:"country"}},e._l(e.countryArr,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("p",{staticClass:"fontweight",staticStyle:{"margin-top":"30px",display:"flex","justify-content":"space-between"}},[t("span",[e._v("收款方式")]),e._v(" "),e.saveList.length?t("span",[t("i",{class:e.deletBank?"el-icon-remove":"el-icon-delete",staticStyle:{"font-size":"20px",cursor:"pointer"},style:{color:e.deletBank?"#008489":"#000"},on:{click:e.delet}})]):e._e()]),e._v(" "),t("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.saveList,function(a,n){return t("div",{staticStyle:{"border-radius":"5px",width:"260px",padding:"20px",height:"110px","background-color":"#008489",margin:"20px 20px 20px 0"}},[t("div",{staticStyle:{display:"flex","justify-content":"space-between","font-size":"15px"}},[t("p",{staticStyle:{color:"#fff"}},[e._v(e._s(a.bank_name))]),e._v(" "),t("span",{staticStyle:{color:"#008489","background-color":"#fff",padding:"2px 5px","border-radius":"5px"}},[e._v("已验证")])]),e._v(" "),t("p",{staticStyle:{margin:"20px 0",color:"#fff","font-size":"20px","text-align":"center"}},[e._v(e._s(a.card_number.replace(/\s/g,"").replace(/(\d{4})\d+(\d{4})$/,"**** **** **** $2")))]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.deletBank,expression:"deletBank"}]},[t("i",{staticClass:"el-icon-delete",staticStyle:{color:"#fff","font-size":"20px",cursor:"pointer"},on:{click:function(t){e.deleteBnak(a,n)}}})])])})),e._v(" "),t("p",{staticStyle:{"margin-top":"15px",color:"#008489"}},[t("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.isAddcard=!0}}},[t("i",{staticClass:"el-icon-plus"}),e._v(" 添加银行卡")])]),e._v(" "),t("div",{staticStyle:{"margin-top":"35px","text-align":"left"}},[t("el-button",{attrs:{type:"primary"}},[e._v("保存")])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isAddcard,expression:"isAddcard"}],staticClass:"collection_bg",on:{click:function(a){e.isAddcard=!1}}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isAddcard,expression:"isAddcard"}],staticClass:"collection_addCard animated flipInY"},[t("div",[t("div",{staticClass:"collection_addCardtop"},[t("p",{staticClass:"fontweight"},[e._v("添加银行卡")]),e._v(" "),t("p",[t("i",{staticClass:"el-icon-close",staticStyle:{cursor:"pointer"},on:{click:function(a){e.isAddcard=!1}}})])]),e._v(" "),t("el-form",{attrs:{"label-width":"75px","label-position":"left"}},[t("el-form-item",{staticStyle:{"margin-top":"30px"},attrs:{label:"银行卡号:"}},[t("el-input",{attrs:{placeholder:"银行卡号"},model:{value:e.card,callback:function(a){e.card=a},expression:"card"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"姓名:"}},[t("el-input",{attrs:{placeholder:"姓名:"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"银行:"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"",clearable:""},model:{value:e.bank,callback:function(a){e.bank=a},expression:"bank"}},e._l(e.bankList,function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}))],1)],1),e._v(" "),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.saveBank}},[e._v("确定")])],1)])])},staticRenderFns:[]};var l=t("VU/8")(i,s,!1,function(e){t("8p4h")},null,null);a.default=l.exports},YVRd:function(e,a,t){"use strict";a.a=function(){return[{name:"招商银行"},{name:"建设银行"},{name:"交通银行"},{name:"邮储银行"},{name:"工商银行"},{name:"农业银行"},{name:"中国银行"},{name:"中信银行"},{name:"光大银行"},{name:"华夏银行"},{name:"民生银行"},{name:"广发银行"},{name:"平安银行"},{name:"星展银行"},{name:"恒生银行"},{name:"渣打银行"},{name:"汇丰银行"},{name:"东亚银行"},{name:"花旗银行"},{name:"浙商银行"},{name:"恒丰银行"},{name:"浦东发展银行"},{name:"兴业银行"},{name:"齐鲁银行"},{name:"烟台银行"},{name:"淮坊银行"},{name:"渤海银行"},{name:"上海银行"},{name:"厦门银行"},{name:"北京银行"},{name:"福建海峡银行"},{name:"吉林银行"},{name:"宁波银行"},{name:"焦作市商业银行"},{name:"温州银行"},{name:"广州银行"},{name:"汉口银行"},{name:"龙江银行"},{name:"盛京银行"},{name:"洛阳银行"},{name:"辽阳银行"},{name:"大连银行"},{name:"苏州银行"},{name:"河北银行"},{name:"杭州银行"},{name:"南京银行"},{name:"东莞银行"},{name:"金华银行"},{name:"乌鲁木齐商业银行"},{name:"绍兴银行"},{name:"成都银行"},{name:"抚顺银行"},{name:"临商银行"},{name:"宜昌市商业银行"},{name:"葫芦岛银行"},{name:"郑州银行"},{name:"宁夏银行"},{name:"珠海华润银行"},{name:"齐商银行"},{name:"锦州银行"},{name:"徽商银行"},{name:"重庆银行"},{name:"哈尔滨银行"},{name:"贵阳银行"},{name:"西安银行"},{name:"无锡市商业银行"},{name:"丹东银行"},{name:"兰州银行"},{name:"南昌银行"},{name:"晋商银行"},{name:"青岛银行"},{name:"南通商业银行"},{name:"九江银行"},{name:"日照银行"},{name:"鞍山银行"},{name:"秦皇岛银行"},{name:"青海银行"},{name:"台州银行"},{name:"盐城银行"},{name:"长沙银行"},{name:"赣州银行"},{name:"泉州银行"},{name:"营口银行"},{name:"富滇银行"},{name:"阜新银行"},{name:"嘉兴银行"},{name:"廊坊银行"},{name:"泰隆商业银行"},{name:"内蒙古银行"},{name:"湖州银行"},{name:"沧州银行"},{name:"广西北部湾银行"},{name:"包商银行"},{name:"威海商业银行"},{name:"攀枝花市商业银行"},{name:"绵阳市商业银行"},{name:"泸州市商业银行"},{name:"三门峡银行"},{name:"邢台银行"},{name:"商丘市商业银行"},{name:"安徽省农村信用社"},{name:"江西省农村信用社"},{name:"湖南农村信用社"},{name:"无锡农村商业银行"}]}}});
//# sourceMappingURL=14.9ea7cacd6d1dbad58cff.js.map