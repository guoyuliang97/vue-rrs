webpackJsonp([6],{"2rp5":function(t,e){},Ju0I:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAADOUlEQVRYhc2ZX2iNYRzHP+ctYbGVZv4sUtsymnah/ElDatoi5cbiwo0ULrRyYcalUhLKlbghSlIaY2kozdiWjYaMErIpsonZH2P7unjOmbOz95y9z3N2Tr711N7z/n7P9/O+z/93IUkkoVVAGbAayAdmx9z/AXQAz4F64LarUcgBtBTYHoYrtMx9DzQDdcAFq0xJQUuJpMuaPN2VtDmof1DIU5MIGKsaSXMmYpio6RcA94ACyya21U9MX2+MF+AlSC7FDIJUQwLMAB4Cu+JGxHnVZZKGUtjciVThx+TX9POAT6l7eYG0EmiJ/sEP9AOwMF1ECZQJ9EYuYvvoGf4PSIDr0RfRb3QZ0J52nMTaAtyEsaC1wKYkKh3GrDit4esCTF/LS6LOZswyPTrqS5IcqfWSFvmNVklVSda9Q1ErUzJLY20cwOiyP4n6GxSenkKY6WiuQ9O8CzfxcIDYx6PNaKcRYL6HWbpcIAFuEQwSoNrRwwMqPKDcsQIwnT2oGoEBR59tHrDeMRngo0XsEPDW0SfTAxY7JjcBLyxzzjt65XiYJ3XRVaDbMueJo1eWB7gemn475Ay6eiXajyZSB3DOIa8VqHIxDEnqB6Zb5hUBL10Mw+oEci3i+1z6aD3JQQIctowf9oBXlkl1lvF+ugj0W8R3e8BTS5MvmE3tEcs8gJ3AIcwAthmMn5FUbrlJeCapM/z38gAbkkiZIqkxnNciacTC8wSSQpK6LGEjOmsBusLRQ5KKIpVccUi+JGmWBeg0SZWye5OS1CZp9Mx0w6G/nQR64tzL8PltEDiN+dhgoxpgzLm+1fJJ6yQticr3JJVKapLUI+mApNyo+xmSqiX9sfAYkJSlmHP9WuCB5dMC3MeM4kLGT+IjmPN5H1AMZFvWfRA4DuPP9XeAjQ6wqdBrYCnmYceBzgS+A6H0c41TPlH719hNSS+wJq04/tpN7CZb/lNJpeXAmkwd82NKNO/t+V8gJwJF0oY0Qu5LxBJkRcmT9CiFgF2S1k3EEXT5Q9JeSW8mEfCbzOeezCD+NqCRUqV/uyAXtUs6Kinbxtfl/0wRFQNbgRLMl5YcYGpMzC/ga7g0ANeANhezv8ZrbfVLY7F3AAAAAElFTkSuQmCC"},Qpr2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"share",data:function(){return{type:"pc",api:this.GLOBAL.baseURL,isRegist:!1,isTel:!0,countryNumber:[{value:1,label:"+86(中国)"}],PC_code:"+86(中国)",PC_tel:"",PC_SMSCode:"",PC_SMS:"发送验证码",PC_telTime:60,PC_email:"",PC_emailCode:"",PC_emailSMS:"发送验证码",PC_emailWord:"",PC_emailReWord:"",PC_emailTime:60,emailForbid:!1,telForbid:!0,changeTime:"",userID:"",userName:""}},methods:{getToken:function(){var t=this;this.$http.post(this.api+"/home/Index/token").then(function(e){1==e.data.code&&(localStorage.setItem("token",e.data.data),t.getUser())})},getUser:function(){var t=this;this.$http.post(this.api+"/home/User/get_otheruser",{token:localStorage.getItem("token"),user_id:this.userID}).then(function(e){if(1==e.data.code){var i=e.data.data;t.userName=i.family_name+i.middle_name+i.name?i.family_name+i.middle_name+i.name:"匿名用户"}else 3==e.data.code?t.getUser():0==e.data.code&&alert(e.data.msg)})},toLogin:function(){window.open(this.api+"/QqLogin?baseurl="+encodeURIComponent("https://www.allptp.cn")+"&token="+localStorage.getItem("token")+"&userId="+this.top_id,"_self")},toWeixin:function(){window.open(this.api+"/WechaLogin?token="+localStorage.getItem("token")+"&baseurl="+encodeURIComponent("https://www.allptp.cn")+"&userId="+sessionStorage.getItem("Share"),"_self")},toHome:function(){this.$router.push("/")},tohome:function(){this.$router.push("/index")},toTelPhone:function(){this.isRegist=!this.isRegist,this.isTel=!0},toEmail:function(){this.isRegist=!this.isRegist,this.isTel=!1},otherRegist:function(){this.isRegist=!1,this.PC_telTime=60,this.PC_emailTime=60,this.PC_SMS="发送验证码",this.PC_emailSMS="发送验证码",this.PC_tel="",this.PC_SMSCode="",this.PC_email="",this.PC_emailCode="",this.PC_emailWord="",this.PC_emailReWord="",clearInterval(this.changeTime)},emailRegist:function(){var t=this;this.PC_email?this.PC_emailCode?this.PC_emailWord?this.PC_emailReWord?this.$http.post(this.api+"/RegisterEmail",{token:localStorage.getItem("token"),email:this.PC_email,sms_code:this.PC_emailCode,password:this.PC_emailWord,repassword:this.PC_emailReWord,top_user_id:sessionStorage.getItem("Share")}).then(function(e){1==e.data.code?(t.$message({type:"success",message:"注册成功！"}),localStorage.setItem("isLogin",!0),t.$router.push("/"),t.PC_email="",t.PC_emailCode="",t.PC_emailSMS="发送验证码",t.PC_emailWord="",t.PC_emailReWord=""):3==e.data.code?t.emailRegist():0==e.data.code&&alert(e.data.msg)}):this.$message({type:"info",message:"请重复填写密码"}):this.$message({type:"info",message:"请填写密码"}):this.$message({type:"info",message:"请填写邮箱验证码"}):this.$message({type:"info",message:"请填写邮箱"})},sendEmail:function(){var t=this;/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/.test(this.PC_email)?this.$http.post(this.api+"/CheckEmail",{token:localStorage.getItem("token"),email:this.PC_email}).then(function(e){1==e.data.code?t.checkEmail():0==e.data.code&&(t.PC_email="",t.$message({type:"info",message:"改邮箱已经注册"}))}):this.$message({type:"error",message:"邮箱格式错误"})},checkEmail:function(){var t=this;this.$http.post(this.api+"/email",{token:localStorage.getItem("token"),toemail:this.PC_email,flag:1}).then(function(e){1==e.data.code?(t.emailForbid=!0,t.changeTime=setInterval(function(){t.PC_emailTime--,t.PC_emailSMS="重新发送（"+t.PC_emailTime+"）",t.PC_emailTime<=0&&(t.PC_emailTime=60,t.emailForbid=!1,t.PC_emailSMS="重新发送",clearInterval(t.changeTime))},1e3)):3==e.data.code?t.login():0==e.data.code&&alert(e.data.msg)})},telRegist:function(){var t=this;this.PC_tel?this.PC_SMSCode?this.PC_code?this.$http.post(this.api+"/home/User/login_sms",{token:localStorage.getItem("token"),m_code:parseInt(this.PC_code),mobile:this.PC_tel,sms_code:this.PC_SMSCode,top_user_id:sessionStorage.getItem("Share")}).then(function(e){1==e.data.code?(localStorage.setItem("isLogin",!0),t.$message({type:"success",message:"注册成功！"}),t.$router.push("/")):3==e.data.code?t.telRegist():0==e.data.code&&alert(e.data.msg)}):this.$message({type:"info",message:"选择手机区号"}):this.$message({type:"info",message:"填写验证码"}):this.$message({type:"info",message:"填写手机号"})},sendTel:function(){var t=this;/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(this.PC_tel)?this.$http.post(this.api+"/home/User/send_msg",{token:localStorage.getItem("token"),m_code:parseInt(this.PC_code),mobile:this.PC_tel,flag:2}).then(function(e){1==e.data.code?(t.telForbid=!0,t.changeTime=setInterval(function(){t.PC_telTime--,t.PC_SMS="重新发送（"+t.PC_telTime+"）",t.PC_telTime<=0&&(t.PC_telTime=60,t.telForbid=!1,t.PC_SMS="重新发送",clearInterval(t.changeTime))},1e3)):3==e.data.code?t.sendTel():0==e.data.code&&alert(e.data.msg)}):this.$message({type:"info",message:"手机号格式有问题"})},checkTel:function(){var t=this;this.PC_tel&&(/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(this.PC_tel)?this.$http.post(this.api+"/home/User/validate_mobile",{token:localStorage.getItem("token"),mobile:this.PC_tel,m_code:parseInt(this.PC_code)}).then(function(e){1==e.data.code?(t.telForbid=!1,t.sendTel()):0==e.data.code&&(t.PC_tel="",t.$message({type:"info",message:"该手机号已经注册"}))}):this.$message({type:"info",message:"手机号格式有问题"}))}},mounted:function(){this.getToken()},created:function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);this.type=t?"wap":"pc",this.$route.query.userId&&(this.userID=this.$route.query.userId,sessionStorage.setItem("Share",this.$route.query.userId))}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",["wap"==t.type?o("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-image":"url('../../static/img/static/bg_wap.png')","background-size":"cover"}},[o("div",{staticStyle:{"background-color":"white",display:"flex","justify-content":"flex-start",padding:"10px 10px"}},[o("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"30px",color:"#000"},on:{click:t.tohome}}),t._v(" "),o("p",{staticStyle:{"text-align":"center",width:"100%"}},[t._v("为您的第一趟旅程节省25元！")])]),t._v(" "),o("div",{staticStyle:{"margin-top":"10%","text-align":"left",padding:"20px"}},[o("img",{staticStyle:{cursor:"pointer"},attrs:{src:i("/vdi"),width:"30px"},on:{click:t.toHome}})]),t._v(" "),o("div",{staticStyle:{"margin-top":"10px",color:"#fff","text-align":"center"}},[o("div",{staticStyle:{width:"40px",height:"40px","border-radius":"50%","background-color":"#fff",margin:"0 auto"}}),t._v(" "),o("p",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.userName)+" 送你一张")]),t._v(" "),t._m(0),t._v(" "),o("p",{staticStyle:{"font-size":"13px"}},[t._v("预定体验，旅程费用最高可减￥50")]),t._v(" "),o("p",{staticStyle:{"margin-top":"20px"}},[t._v("注册并领取基金券")]),t._v(" "),o("div",{staticStyle:{margin:"5px 0"}},[o("div",{staticStyle:{width:"70%",padding:"10px 0","border-radius":"20px","background-color":"#008489",color:"#fff",margin:"0 auto"},on:{click:t.toTelPhone}},[t._v("手机号注册")]),t._v(" "),o("div",{staticStyle:{width:"70%",padding:"10px 0","border-radius":"20px",opacity:"1",border:"1px solid #fff",color:"#fff",margin:"10px auto 0"},on:{click:t.toWeixin}},[t._v("微信")])]),t._v(" "),o("div",[o("p",[t._v("其他注册方式")]),t._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"50%",margin:"10px auto 0"}},[o("img",{attrs:{src:i("a3mB")},on:{click:t.toEmail}}),t._v(" "),o("img",{attrs:{src:i("Ju0I")},on:{click:t.toLogin}})])])])]):t._e(),t._v(" "),"pc"==t.type?o("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-image":"url('../../static/img/static/bg_pc.png')",padding:"50px"}},[o("div",{staticStyle:{"text-align":"left"}},[o("img",{staticStyle:{cursor:"pointer"},attrs:{src:i("/vdi"),width:"30px"},on:{click:t.toHome}})]),t._v(" "),o("div",{staticStyle:{"margin-top":"10%",color:"#fff"}},[o("div",{staticStyle:{width:"40px",height:"40px","border-radius":"50%","background-color":"#fff",margin:"0 auto"}}),t._v(" "),o("p",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.userName)+" 送你一张")]),t._v(" "),t._m(1),t._v(" "),o("p",{staticStyle:{"font-size":"13px"}},[t._v("预定体验，旅程费用最高可减￥25")]),t._v(" "),o("p",{staticStyle:{"margin-top":"20px"}},[t._v("注册并领取基金券")]),t._v(" "),o("div",{staticStyle:{margin:"10px 0"}},[o("div",{staticStyle:{width:"340px",padding:"10px 0","border-radius":"20px","background-color":"#008489",color:"#fff",margin:"0 auto"},on:{click:t.toTelPhone}},[t._v("手机号注册")]),t._v(" "),o("div",{staticStyle:{width:"340px",padding:"10px 0","border-radius":"20px",opacity:"1",border:"1px solid #fff",color:"#fff",margin:"10px auto 0"},on:{click:t.toWeixin}},[t._v("微信")])]),t._v(" "),o("div",[o("p",[t._v("其他注册方式")]),t._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"200px",margin:"20px auto 0"}},[o("img",{attrs:{src:i("a3mB")},on:{click:t.toEmail}}),t._v(" "),o("img",{attrs:{src:i("Ju0I")},on:{click:t.toLogin}})])])])]):t._e(),t._v(" "),t.isRegist?o("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(255,255,255,1)",padding:"50px","z-index":"1"}},[o("div",{staticStyle:{"text-align":"left"}},[o("img",{staticStyle:{cursor:"pointer"},attrs:{src:i("Sj6X"),width:"30px"},on:{click:t.toHome}})]),t._v(" "),o("div",{staticStyle:{width:"350px","text-align":"left",position:"fixed",top:"50%",left:"50%","margin-left":"-175px"},style:{marginTop:t.isTel?"-200px":"-250px"}},[t.isTel?o("div",[o("div",{staticStyle:{"font-size":"25px"}},[t._v("手机号注册")]),t._v(" "),o("div",{staticStyle:{"margin-top":"30px"}},[o("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #C4C4C4"}},[o("div",{staticStyle:{display:"flex","justify-content":"flex-start",padding:"10px",height:"20px","line-height":"20px",cursor:"pointer"}},[o("div",[o("b",[t._v(t._s(t.PC_code))])]),t._v(" "),t._m(2)]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.PC_tel,expression:"PC_tel"}],staticStyle:{border:"none"},attrs:{placeholder:"输入手机号"},domProps:{value:t.PC_tel},on:{blur:t.checkTel,input:function(e){e.target.composing||(t.PC_tel=e.target.value)}}})]),t._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"space-between","border-bottom":"1px solid #C4C4C4","margin-top":"30px",padding:"10px 0"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.PC_SMSCode,expression:"PC_SMSCode"}],staticStyle:{border:"none",padding:"0 10px"},attrs:{placeholder:"输入验证码"},domProps:{value:t.PC_SMSCode},on:{input:function(e){e.target.composing||(t.PC_SMSCode=e.target.value)}}}),t._v(" "),o("div",{staticStyle:{"font-size":"15px","text-align":"right",cursor:"pointer"},style:{color:t.telForbid?"#999":"#008489"},on:{click:function(e){!t.telForbid&&t.sendTel()}}},[o("b",[t._v(t._s(t.PC_SMS))])])]),t._v(" "),o("div",{staticStyle:{"background-color":"#008489","border-radius":"20px",padding:"10px 0",width:"350px",color:"#fff","text-align":"center","margin-top":"50px",cursor:"pointer"},on:{click:t.telRegist}},[t._v("\n            确认\n          ")]),t._v(" "),o("div",{staticStyle:{border:"1px solid #000000","border-radius":"20px",padding:"10px 0",width:"350px",color:"#000","text-align":"center","margin-top":"20px",cursor:"pointer"},on:{click:t.otherRegist}},[t._v("\n            其他方式\n          ")])])]):t._e(),t._v(" "),t.isTel?t._e():o("div",[o("div",{staticStyle:{"font-size":"25px"}},[t._v("邮箱注册")]),t._v(" "),o("div",{staticStyle:{"margin-top":"30px"}},[o("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #C4C4C4",padding:"10px"}},[t._m(3),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.PC_email,expression:"PC_email"}],staticStyle:{border:"none","margin-left":"20px"},attrs:{placeholder:"输入邮箱账号"},domProps:{value:t.PC_email},on:{input:function(e){e.target.composing||(t.PC_email=e.target.value)}}})]),t._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"space-between","border-bottom":"1px solid #C4C4C4","margin-top":"20px",padding:"10px 0"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.PC_emailCode,expression:"PC_emailCode"}],staticStyle:{border:"none",padding:"0 10px"},attrs:{placeholder:"输入验证码"},domProps:{value:t.PC_emailCode},on:{input:function(e){e.target.composing||(t.PC_emailCode=e.target.value)}}}),t._v(" "),o("div",{staticStyle:{"font-size":"15px","text-align":"right",cursor:"pointer"},style:{color:t.emailForbid?"#999":"#008489"},on:{click:function(e){!t.emailForbid&&t.sendEmail()}}},[o("b",[t._v(t._s(t.PC_emailSMS))])])]),t._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #C4C4C4",padding:"10px","margin-top":"20px"}},[t._m(4),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.PC_emailWord,expression:"PC_emailWord"}],staticStyle:{border:"none","margin-left":"20px"},attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.PC_emailWord},on:{input:function(e){e.target.composing||(t.PC_emailWord=e.target.value)}}})]),t._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"flex-start","border-bottom":"1px solid #C4C4C4",padding:"10px","margin-top":"20px"}},[t._m(5),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.PC_emailReWord,expression:"PC_emailReWord"}],staticStyle:{border:"none","margin-left":"20px"},attrs:{type:"password",placeholder:"重复输入密码"},domProps:{value:t.PC_emailReWord},on:{input:function(e){e.target.composing||(t.PC_emailReWord=e.target.value)}}})]),t._v(" "),o("div",{staticStyle:{"background-color":"#008489","border-radius":"20px",padding:"10px 0",width:"350px",color:"#fff","text-align":"center","margin-top":"50px",cursor:"pointer"},on:{click:t.emailRegist}},[t._v("\n            确认\n          ")]),t._v(" "),o("div",{staticStyle:{border:"1px solid #000000","border-radius":"20px",padding:"10px 0",width:"350px",color:"#000","text-align":"center","margin-top":"20px",cursor:"pointer"},on:{click:t.otherRegist}},[t._v("\n            其他方式\n          ")])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"margin-top":"20px","font-size":"30px"}},[e("span",{staticStyle:{"font-size":"50px"}},[e("b",[this._v("￥25")])]),this._v(" 基金券")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"margin-top":"20px","font-size":"30px"}},[e("span",{staticStyle:{"font-size":"50px"}},[e("b",[this._v("￥25")])]),this._v(" 基金券")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"border-right":"1px solid #C4C4C4",padding:"0 10px"}},[e("i",{staticClass:"el-icon-arrow-down"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b",[this._v("账号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b",[this._v("密码")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b",[this._v("重复密码")])])}]};var s=i("VU/8")(o,a,!1,function(t){i("2rp5")},"data-v-b343067e",null);e.default=s.exports},a3mB:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAADMElEQVRYhc2YT6gVVRyAv3dT6BGmQSSaC5c+IZIIyoxaiNgma2FBRYT9o53Rqk1g0KJQJDdF6IMWLiICQRdZtiq1P4uyyD+REETlS0ifrzB9Xv1anLk4zZ0793fvnXvf++AsZuZ35vfNOTNnzjljKn1yE/AQcD9wB3B7VvLMAKeAX4HDwMfAmb6yqb2WCXWHetbemVXfVzf0mreX4HvVj/qQ68SX6iN1io6rR2oULHJMXdnNo9HlzVgDnATu6+u9inEncALYXBlV8RRb1KtDbMkynu/k00nyyREL5imVHbN9eFoDfDecXg6zCTiQP1EUXUIa524coVQZV4G7gWOtE0XRH0iD93zgD3I/kPxX/wDzRxJgOfBw6yDfokeBtXNhVMFZYClcF70H+CpQsQl8AVyrQWI1sCwQ9zSwt/X57wsMG5+oS8qGjgHK9kDeH83G0XH1WqDCczVLot6lNgO5VzWAR4GxQBfsAY6TpnaDMkGa8n0N3BCI34L6QeCJir/ST7PW6LUFb1UnA/mKHET9JhA4q76lfl44v029JSj5kjqdq3tGfUP9LZB/CvV8IFB1aZbwWfVE7vx59bUKwccL8dPZA45n1/8K5J5FvRgU3VgQ2Fa4/lP2EK3r69VDhZhJU/e3Ym5W/w7knkGdCYqut721JtQ9pm5scVD9MHfcVA90qL8omH9g0VZZqG5V/yzU2aXeVlGvJ9Fo11eJ5oV3qnvVFYH4sOgC4DIwXsPYCHAFeKWme+UZawA/D+HGdbOwAZyea4sAvzRIv7IIV4Yg0AQiWzXfNoD9xKZt/wykVM6/0HXJDvBuA7gAHAoEvzqQUjkvk/awqpgCDi/IDt4GNnap8BjwGWmzqw5WAs8E4t6B/y9FfietU+YTl0kr40v592MY49+gvAlcgvbl8jSweC6MSrhIcmlC+xe3buQ6nXmCTBLaRY8DT41Up5zXScPmdTpMFopzzVGyu8ypambz3nyR7CaK+uIIJXdWuUQWZWvV00MUnFI3d/OIiLbKVvVcjYLnTN/Cokj+XkQxLY1fMG2z9MtJe1tmo+U7zlEeJO2yrANWdYk9BXwPTBLbjGvjP2dqGZ/3K84mAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=6.031ac7015cf064a1e05a.js.map