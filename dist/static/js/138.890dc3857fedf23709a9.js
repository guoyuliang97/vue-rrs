webpackJsonp([138],{fYV6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),s=i.n(a),n=i("mnKu"),o=i("DjrJ"),l=i("/nBy"),r=(o.a,l.a,{name:"Validation",data:function(){return{api:this.GLOBAL.baseURL,data:{token:localStorage.getItem("token")},stepNum:"",isStep:"1",options:[{label:"中国",value:"0"}],cuntry:"",radio:"",imageUrl1:"",imageUrl:"",firstId:"",secendId:"",huzhaoId:"",firstlanguage:"",language:"",languageList:[],introduceText:"",isVolunteer:!1,audit_idcard:"",isSeccond:!1,isFirst:!1,addStep:"",isWait:!1}},components:{Head:o.a,Loading:l.a},methods:{changeStep:function(t){1==t?(this.stepNum+=this.addStep,this.isStep=2):2==t?(this.stepNum+=this.addStep,this.isStep=3):3==t?this.cuntry.length?this.radio?"1"==this.radio?(this.stepNum+=this.addStep,this.isStep=4):(this.stepNum+=this.addStep,this.isStep=5):this.$message({type:"error",message:"您还没有选择类型"}):this.$message({type:"error",message:"请选择国家!"}):4==t?this.firstId&&this.secendId?this.checkSfz():this.$message({type:"info",message:"您的图片还没上传完整！"}):5==t?this.huzhaoId?this.checkHz():this.$message({type:"info",message:"请上传您的护照正面"}):6!=t&&8!=t||this.$router.push("/")},goBack:function(t){5==t?(this.isStep=3,this.stepNum=this.stepNum-2*this.addStep):1==t?(this.isStep="volunteer",this.stepNum-=this.addStep):(this.isStep-=1,this.stepNum-=this.addStep)},firstHandleAvatarSuccess:function(t,e){1==t.code?(this.imageUrl1=t.data.domain+t.data.image_url,this.firstId=t.data.image_id):alert("上传失败！请重新上传")},handleAvatarSuccess:function(t,e){1==t.code?(this.imageUrl=t.data.domain+t.data.image_url,this.secendId=t.data.image_id):alert("上传失败！请重新上传")},huzhaoSuccess:function(t){1==t.code?(this.imageUrl=t.data.domain+t.data.image_url,this.huzhaoId=t.data.image_id):alert("上传失败！请重新上传")},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type,i=t.size/1024/1024<10;return e||(this.$message.error("上传头像图片只能是 JPG/JPEG/PNG 格式!"),this.isFirst=!1,this.isSeccond=!1),i||(this.$message.error("上传头像图片大小不能超过 10MB!"),this.isFirst=!1,this.isSeccond=!1),e&&i},checkSfz:function(){var t=this;this.isWait=!0,this.$http.post(this.api+"/IdentifyCard",{token:localStorage.getItem("token"),idcard_z:this.firstId,idcard_f:this.secendId,flag:1}).then(function(e){1==e.data.code?(t.stepNum=100,t.isStep=6,t.isWait=!1):3==e.data.code?t.$http.post(t.api+"/home/Index/token").then(function(e){1==e.data.code&&(localStorage.setItem("token",e.data.data),t.checkSfz())}):0==e.data.code&&(alert(e.data.msg),t.isWait=!1)})},checkHz:function(){var t=this;this.isWait=!0,this.$http.post(this.api+"/IdentifyCard",{token:localStorage.getItem("token"),passport:this.huzhaoId,flag:2}).then(function(e){1==e.data.code?(t.stepNum=100,t.isStep=6,t.isWait=!1):3==e.data.code?t.$http.post(t.api+"/home/Index/token").then(function(e){1==e.data.code&&(localStorage.setItem("token",e.data.data),t.checkSfz())}):0==e.data.code&&(alert(e.data.msg),t.isWait=!1)})},goBackHome:function(){this.$router.go(-1)},nextStep:function(){""!==this.firstlanguage&&this.introduceText&&this.language.length?this.beComeVolun():this.$message({type:"error",message:"您还没有填写完整!"})},beComeVolun:function(){var t=this;this.$http.post(this.api+"/VolunteerB",{token:localStorage.getItem("token"),other_language:s()(this.language),main_language:this.firstlanguage,introduce:this.introduceText}).then(function(e){1==e.data.code?t.audit_idcard?(t.isStep=8,t.stepNum=100):(t.isStep=1,t.stepNum+=t.addStep,t.$message({type:"success",message:"已提交，请继续完成身份验证！"})):3==e.data.code?t.$http.post(t.api+"/home/index/token").then(function(e){localStorage.setItem("token",e.data.data),t.beComeVolun()}):0==e.data.code&&alert(e.data.msg)})},reload:function(t){var e=t.data.data[0];this.audit_idcard=e.audit_idcard,this.$route.query.information?this.audit_idcard?(this.isStep=this.$route.query.information,this.stepNum=50,this.isVolunteer=!0):(this.isStep=this.$route.query.information,this.addStep=50/3,this.stepNum=50/3,this.isVolunteer=!0):(this.isStep="1",this.addStep=20,this.stepNum=20)},uploadLoading:function(t,e){"ready"==t.status?this.isFirst=!0:"success"==t.status&&(this.isFirst=!1)},uploadScecond:function(t,e){console.log(t),"ready"==t.status?this.isSeccond=!0:"success"==t.status&&(this.isSeccond=!1)}},created:function(){this.languageList=Object(n.a)()}}),c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Head",{attrs:{type:"authentication"},on:{reload:t.reload}}),t._v(" "),i("div",{staticStyle:{height:"10px","background-color":"#008489","margin-top":"80px","transition-property":"width","transition-duration":"0.5s","transition-timing-function":"linear","transition-delay":"0s"},style:{width:t.stepNum+"%"}}),t._v(" "),i("div",{staticStyle:{margin:"20px auto 0",width:"850px","text-align":"right",cursor:"pointer"}},[i("span",{on:{click:t.goBackHome}},[t._v("退出")])]),t._v(" "),"volunteer"==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("成为志愿者")]),t._v(" "),t._m(0),t._v(" "),i("el-select",{staticStyle:{margin:"20px 0",width:"300px"},attrs:{placeholder:"请选择语言"},model:{value:t.firstlanguage,callback:function(e){t.firstlanguage=e},expression:"firstlanguage"}},t._l(t.languageList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),t._m(1),t._v(" "),i("el-select",{staticStyle:{margin:"20px 0",width:"300px"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择语言"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}},t._l(t.languageList,function(e,a){return i("el-option",{key:e.value,attrs:{disabled:a===t.firstlanguage,label:e.label,value:e.value}})})),t._v(" "),t._m(2),t._v(" "),i("el-input",{staticStyle:{margin:"20px 0",width:"300px"},attrs:{type:"textarea",autosize:{minRows:5}},model:{value:t.introduceText,callback:function(e){t.introduceText=e},expression:"introduceText"}}),t._v(" "),i("div",[i("el-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v(t._s(t.audit_idcard?"提交志愿者申请":"下一步实名认证")+">")])],1)],1):t._e(),t._v(" "),1==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[t._m(3),t._v(" "),i("h1",{staticStyle:{margin:"20px 0"}},[t._v("添加由政府签发的有效身份证件")]),t._v(" "),i("p",{staticStyle:{margin:"30px 0"}}),t._v(" "),t.isVolunteer?i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.goBack(t.isStep)}}},[i("i",{staticClass:"el-icon-arrow-left"},[t._v(" 上一步")])]):t._e(),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 请再添加一张照片"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),2==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("您想如何添加身份证件照片？")]),t._v(" "),i("p",{staticStyle:{margin:"30px 0"}},[t._v("您可以从移动设备或电脑里上传一张已有的照片。")]),t._v(" "),t._m(4),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.goBack(t.isStep)}}},[i("i",{staticClass:"el-icon-arrow-left"},[t._v(" 上一步")])]),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 下一步"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),3==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("您想要添加哪种身份证件？")]),t._v(" "),i("p",{staticStyle:{margin:"30px 0"}},[t._v("只能添加由政府颁发的有效身份证件。")]),t._v(" "),i("div",{staticStyle:{"line-height":"40px"}},[t._m(5),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.cuntry,callback:function(e){t.cuntry=e},expression:"cuntry"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),t._m(6),t._v(" "),i("div",{staticStyle:{"margin-left":"20px"}},[i("p",[i("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("身份证")])],1),t._v(" "),i("p",[i("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("护照")])],1)]),t._v(" "),t._m(7)],1),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.goBack(t.isStep)}}},[i("i",{staticClass:"el-icon-arrow-left"},[t._v(" 上一步")])]),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 请再添加一张照片"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),4==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("上传您的身份证的照片")]),t._v(" "),i("p",{staticStyle:{margin:"30px 0"}},[t._v("上传您的身份证（中国）正面的照片。 确保您的照片不会模糊不清，能够清楚地显示您的脸部。")]),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("div",{staticStyle:{position:"relative"}},[i("el-upload",{staticStyle:{border:"1px dashed #d9d9d9","border-radius":"6px",cursor:"pointer",width:"260px",height:"160px",display:"block","line-height":"160px","text-align":"center",color:"#8c939d",overflow:"hidden"},attrs:{action:t.api+"/home/Upload/upload/home/Upload/upload",data:t.data,"show-file-list":!1,"on-change":t.uploadLoading,"on-success":t.firstHandleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl1?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl1}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"font-size":"15px"}},[t._v("添加头像面照片")])]),t._v(" "),t.isFirst?i("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,.2)",display:"flex","align-items":"center","justify-content":"center"}},[i("Loading")],1):t._e()],1),t._v(" "),i("div",{staticStyle:{"margin-left":"100px",position:"relative"}},[i("el-upload",{staticStyle:{overflow:"hidden",border:"1px dashed #d9d9d9","border-radius":"6px",cursor:"pointer",width:"260px",height:"160px",display:"block","line-height":"160px","text-align":"center",color:"#8c939d"},attrs:{action:t.api+"/home/Upload/upload/home/Upload/upload",data:t.data,"show-file-list":!1,"on-change":t.uploadScecond,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"font-size":"15px"}},[t._v("添加国徽面照片")])]),t._v(" "),t.isSeccond?i("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,.2)",display:"flex","align-items":"center","justify-content":"center"}},[i("Loading")],1):t._e()],1)]),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.goBack(t.isStep)}}},[i("i",{staticClass:"el-icon-arrow-left"},[t._v(" 上一步")])]),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px","margin-top":"50px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 下一步"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),5==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("上传您的护照的照片")]),t._v(" "),i("p",{staticStyle:{margin:"30px 0"}},[t._v("上传您的护照（中国）的照片。 确保您的照片不会模糊不清，能够清楚地显示您的信息。")]),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("div",{staticStyle:{position:"relative"}},[i("el-upload",{staticStyle:{overflow:"hidden",border:"1px dashed #d9d9d9","border-radius":"6px",cursor:"pointer",width:"260px",height:"160px",display:"block","line-height":"160px","text-align":"center",color:"#8c939d"},attrs:{action:t.api+"/home/Upload/upload/home/Upload/upload",data:t.data,"show-file-list":!1,"on-change":t.uploadScecond,"on-success":t.huzhaoSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon",staticStyle:{"font-size":"15px"}},[t._v("添加头像面护照")])]),t._v(" "),t.isSeccond?i("div",{staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0","background-color":"rgba(0,0,0,.2)",display:"flex","align-items":"center","justify-content":"center"}},[i("Loading")],1):t._e()],1)]),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.goBack(t.isStep)}}},[i("i",{staticClass:"el-icon-arrow-left"},[t._v(" 上一步")])]),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px","margin-top":"50px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 下一步"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),6==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("您的用户身份验证成功!")]),t._v(" "),t._m(8),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 完成"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),8==t.isStep?i("div",{staticStyle:{width:"850px",margin:"80px auto","text-align":"left"}},[i("h1",{staticStyle:{margin:"20px 0"}},[t._v("志愿者申请提交成功")]),t._v(" "),t._m(9),t._v(" "),i("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"primary"},on:{click:function(e){t.changeStep(t.isStep)}}},[t._v(" 完成"),i("i",{staticClass:"el-icon-arrow-right"})])],1):t._e(),t._v(" "),t.isWait?i("div",{staticStyle:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0","z-index":"999","background-color":"rgba(255,255,255,.5)",display:"flex","justify-content":"center","align-items":"center"}},[i("Loading")],1):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("选择您主要的语言")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("其他所会语言"),e("span",{staticStyle:{"font-size":"12px"}},[this._v("(可多选)")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("自我介绍")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-jinggao",staticStyle:{"font-size":"50px",color:"#FF7F24"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"30px 0"}},[e("b",[this._v("您的身份证件信息永远不会透露给任何人")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{},[e("b",[this._v("签发国家/地区")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("身份证证件类型:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("您的身份证件信息永远不会透露给任何人。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"30px 0"}},[e("b",[this._v("欢迎加入人人耍！")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{margin:"30px 0"}},[e("b",[this._v("欢迎加入人人耍志愿者！")])])}]};var p=i("VU/8")(r,c,!1,function(t){i("wAVy")},"data-v-1a2637c1",null);e.default=p.exports},wAVy:function(t,e){}});
//# sourceMappingURL=138.890dc3857fedf23709a9.js.map